(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6631],{1190:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},1360:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1743:(e,r,t)=>{Promise.resolve().then(t.bind(t,8011))},1847:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(2115);let s=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...g}=e;return(0,a.createElement)("svg",{ref:r,...i,width:s,height:s,stroke:t,strokeWidth:c?24*Number(n)/Number(s):n,className:l("lucide",o),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(g)&&{"aria-hidden":"true"},...g},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),c=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:c,...o}=t;return(0,a.createElement)(n,{ref:i,iconNode:r,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return t.displayName=s(e),t}},5229:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5917:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6191:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8011:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var a=t(5155),s=t(2115),l=t(6191),i=t(5229),n=t(5917),c=t(9476),o=t(1190),d=t(1360);function u(){let[e,r]=(0,s.useState)([]),[t,u]=(0,s.useState)(!0),[g,h]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[p,y]=(0,s.useState)(!1),[b,f]=(0,s.useState)({name:"",slug:"",description:"",color:"#3B82F6"});(0,s.useEffect)(()=>{v()},[]);let v=async()=>{try{u(!0);let e=await fetch("/api/admin/categories");if(!e.ok)throw Error("Hiba a kateg\xf3ri\xe1k bet\xf6lt\xe9sekor");let t=await e.json();r(t)}catch(e){h(e instanceof Error?e.message:"Ismeretlen hiba")}finally{u(!1)}},j=async()=>{try{let e=await fetch(m?"/api/admin/categories/".concat(m):"/api/admin/categories",{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!e.ok){let r=await e.json();throw Error(r.error||"Hiba t\xf6rt\xe9nt")}await v(),N()}catch(e){h(e instanceof Error?e.message:"Ismeretlen hiba")}},k=async e=>{if(confirm("Biztosan t\xf6r\xf6lni szeretn\xe9d ezt a kateg\xf3ri\xe1t?"))try{let r=await fetch("/api/admin/categories/".concat(e),{method:"DELETE"});if(!r.ok){let e=await r.json();throw Error(e.error||"Hiba t\xf6rt\xe9nt")}await v()}catch(e){h(e instanceof Error?e.message:"Ismeretlen hiba")}},N=()=>{x(null),y(!1),f({name:"",slug:"",description:"",color:"#3B82F6"})};return t?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Kateg\xf3ri\xe1k"}),(0,a.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"\xdaj kateg\xf3ria"]})]}),g&&(0,a.jsxs)("div",{className:"px-6 py-3 bg-red-50 text-red-700 border-b border-red-100",children:[g,(0,a.jsx)("button",{onClick:()=>h(null),className:"ml-2 underline",children:"Bez\xe1r"})]}),p&&(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe9v"}),(0,a.jsx)("input",{type:"text",value:b.name,onChange:e=>{var r;return r=e.target.value,void f({...b,name:r,slug:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Kateg\xf3ria neve"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,a.jsx)("input",{type:"text",value:b.slug,onChange:e=>f({...b,slug:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"kategoria-slug"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Le\xedr\xe1s"}),(0,a.jsx)("input",{type:"text",value:b.description,onChange:e=>f({...b,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"R\xf6vid le\xedr\xe1s"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sz\xedn"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"color",value:b.color,onChange:e=>f({...b,color:e.target.value}),className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),(0,a.jsx)("input",{type:"text",value:b.color,onChange:e=>f({...b,color:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"#3B82F6"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsxs)("button",{onClick:N,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 inline mr-1"}),"M\xe9gse"]}),(0,a.jsxs)("button",{onClick:j,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 inline mr-1"}),m?"Ment\xe9s":"L\xe9trehoz\xe1s"]})]})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:0===e.length?(0,a.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"M\xe9g nincsenek kateg\xf3ri\xe1k"}):e.map(e=>{var r;return(0,a.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-gray-400 cursor-grab"}),(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color||"#gray"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug," â€¢ ",(null==(r=e._count)?void 0:r.posts)||0," poszt"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{x(e.id),f({name:e.name,slug:e.slug,description:e.description||"",color:e.color||"#3B82F6"}),y(!0)},className:"p-2 text-gray-400 hover:text-orange-500 transition",children:(0,a.jsx)(o.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>k(e.id),className:"p-2 text-gray-400 hover:text-red-500 transition",children:(0,a.jsx)(d.A,{className:"w-4 h-4"})})]})]},e.id)})})]})}},9476:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=1743)),_N_E=e.O()}]);