(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1626],{1190:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},1360:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1443:(e,t,s)=>{Promise.resolve().then(s.bind(s,5869))},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:d="",children:o,iconNode:m,...x}=e;return(0,r.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:i?24*Number(c)/Number(a):c,className:l("lucide",d),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:i,...d}=s;return(0,r.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...d})});return s.displayName=a(e),s}},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5155),a=s(2115),l=s(6651),n=s(6191),c=s(6132),i=s(5229),d=s(5917),o=s(7726),m=s(1190),x=s(1360);function g(){let[e,t]=(0,a.useState)([]),[s,g]=(0,a.useState)(!0),[h,u]=(0,a.useState)(null),[p,y]=(0,a.useState)(""),[f,j]=(0,a.useState)(null),[b,N]=(0,a.useState)({name:"",slug:""}),[v,k]=(0,a.useState)(!1),[w,A]=(0,a.useState)({name:"",slug:""});(0,a.useEffect)(()=>{z()},[p]);let z=async()=>{try{g(!0);let e=new URLSearchParams;p&&e.set("search",p);let s=await fetch("/api/admin/tags?".concat(e));if(!s.ok)throw Error("Hiba a c\xedmk\xe9k bet\xf6lt\xe9sekor");let r=await s.json();t(r)}catch(e){u(e instanceof Error?e.message:"Ismeretlen hiba")}finally{g(!1)}},C=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"),E=async e=>{if(e.preventDefault(),!w.name.trim())return void u("A n\xe9v megad\xe1sa k\xf6telező");try{let e=w.slug.trim()||C(w.name),t=await fetch("/api/admin/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name.trim(),slug:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Hiba t\xf6rt\xe9nt")}A({name:"",slug:""}),k(!1),z()}catch(e){u(e instanceof Error?e.message:"Ismeretlen hiba")}},M=async e=>{if(!b.name.trim())return void u("A n\xe9v megad\xe1sa k\xf6telező");try{let t=await fetch("/api/admin/tags/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name.trim(),slug:b.slug.trim()||C(b.name)})});if(!t.ok){let e=await t.json();throw Error(e.error||"Hiba t\xf6rt\xe9nt")}j(null),z()}catch(e){u(e instanceof Error?e.message:"Ismeretlen hiba")}},S=()=>{j(null),N({name:"",slug:""})},L=async(e,t,s)=>{if(confirm(s>0?'Biztosan t\xf6r\xf6lni szeretn\xe9d a "'.concat(t,'" c\xedmk\xe9t? Ez ').concat(s," poszthoz van hozz\xe1rendelve."):'Biztosan t\xf6r\xf6lni szeretn\xe9d a "'.concat(t,'" c\xedmk\xe9t?')))try{let t=await fetch("/api/admin/tags/".concat(e),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Hiba t\xf6rt\xe9nt")}z()}catch(e){u(e instanceof Error?e.message:"Ismeretlen hiba")}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"C\xedmk\xe9k"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Blog c\xedmk\xe9k kezel\xe9se"})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"C\xedmk\xe9k kezel\xe9se"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),placeholder:"Keres\xe9s c\xedmk\xe9kben...",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition text-sm font-medium flex items-center justify-center gap-2",children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),"\xdaj c\xedmke"]})]})]})}),h&&(0,r.jsxs)("div",{className:"px-6 py-3 bg-red-50 border-b border-red-100 flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 text-red-600"}),(0,r.jsx)("span",{className:"text-red-700 text-sm flex-1",children:h}),(0,r.jsx)("button",{onClick:()=>u(null),className:"text-red-600 hover:text-red-800",children:(0,r.jsx)(i.A,{className:"w-4 h-4"})})]}),v&&(0,r.jsx)("div",{className:"px-6 py-4 bg-orange-50 border-b border-orange-100",children:(0,r.jsxs)("form",{onSubmit:E,className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe9v *"}),(0,r.jsx)("input",{type:"text",value:w.name,onChange:e=>A({...w,name:e.target.value}),placeholder:"pl. Webfejleszt\xe9s",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",autoFocus:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,r.jsx)("input",{type:"text",value:w.slug,onChange:e=>A({...w,slug:e.target.value}),placeholder:"Automatikus, ha \xfcresen hagyod",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),"Ment\xe9s"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{k(!1),A({name:"",slug:""})},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"M\xe9gse"]})]})]})}),s?(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):0===e.length?(0,r.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,r.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,r.jsx)("p",{children:"M\xe9g nincsenek c\xedmk\xe9k"}),(0,r.jsx)("button",{onClick:()=>k(!0),className:"mt-3 text-orange-500 hover:text-orange-600 text-sm font-medium",children:"Hozd l\xe9tre az elsőt"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"N\xe9v"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posztok sz\xe1ma"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Műveletek"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t;let s=f===e.id,a=(null==(t=e._count)?void 0:t.posts)||0;return(0,r.jsx)("tr",{className:"hover:bg-gray-50",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"text",value:b.name,onChange:e=>N({...b,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent",autoFocus:!0})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"text",value:b.slug,onChange:e=>N({...b,slug:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"text-sm text-gray-500",children:a})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>M(e.id),className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded",title:"Ment\xe9s",children:(0,r.jsx)(d.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:S,className:"p-2 text-gray-600 hover:text-gray-700 hover:bg-gray-100 rounded",title:"M\xe9gse",children:(0,r.jsx)(i.A,{className:"w-4 h-4"})})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 text-gray-400"}),(0,r.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("code",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:e.slug})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[a," poszt"]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>{j(e.id),N({name:e.name,slug:e.slug})},className:"p-2 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded",title:"Szerkeszt\xe9s",children:(0,r.jsx)(m.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>L(e.id,e.name,a),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"T\xf6rl\xe9s",children:(0,r.jsx)(x.A,{className:"w-4 h-4"})})]})})]})},e.id)})})]})}),!s&&e.length>0&&(0,r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 text-sm text-gray-500",children:[e.length," c\xedmke \xf6sszesen"]})]})]})}},5917:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7726:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=1443)),_N_E=e.O()}]);