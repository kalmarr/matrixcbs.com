(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8186],{5483:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5155),r=t(2115);function l(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0),[n,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[g,u]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[p,f]=(0,r.useState)("");(0,r.useEffect)(()=>{y()},[]);let y=async()=>{try{l(!0),o(null);let e=await fetch("/api/admin/maintenance"),t=await e.json();if(!t.success)throw Error(t.error||"Failed to load settings");let a=t.data;s(a),h(a.isActive),u(a.message||""),j(a.allowedIps.join("\n")),f(a.endsAt?new Date(a.endsAt).toISOString().slice(0,16):"")}catch(e){o(e instanceof Error?e.message:"Failed to load settings")}finally{l(!1)}},k=async()=>{try{i(!0),o(null),m(null);let e=b.split("\n").map(e=>e.trim()).filter(e=>e.length>0),t=await fetch("/api/admin/maintenance",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:x,message:g.trim()||null,allowedIps:e,endsAt:p||null})}),a=await t.json();if(!a.success)throw Error(a.error||"Failed to save settings");s(a.data),m("A be\xe1ll\xedt\xe1sok sikeresen mentve!"),setTimeout(()=>m(null),3e3)}catch(e){o(e instanceof Error?e.message:"Failed to save settings")}finally{i(!1)}},N=async()=>{try{i(!0),o(null),m(null);let e=!x,s=await fetch("/api/admin/maintenance",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:e})}),t=await s.json();if(!t.success)throw Error(t.error||"Failed to toggle maintenance mode");h(e),m(e?"Karbantart\xe1si m\xf3d bekapcsolva!":"Karbantart\xe1si m\xf3d kikapcsolva!"),setTimeout(()=>m(null),3e3)}catch(e){o(e instanceof Error?e.message:"Failed to toggle maintenance mode")}finally{i(!1)}};return t?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Bet\xf6lt\xe9s..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Karbantart\xe1si m\xf3d be\xe1ll\xedt\xe1sai"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Az oldal karbantart\xe1si m\xf3dj\xe1nak kezel\xe9se \xe9s be\xe1ll\xedt\xe1sa"})]}),d&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{className:"text-red-800",children:d})]})}),c&&(0,a.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{className:"text-green-800",children:c})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Gyors kapcsol\xf3"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Karbantart\xe1si m\xf3d azonnali be/kikapcsol\xe1sa"})]}),(0,a.jsx)("button",{onClick:N,disabled:n,className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(x?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"," disabled:opacity-50 disabled:cursor-not-allowed"),children:n?"Ment\xe9s...":x?"Kikapcsol\xe1s":"Bekapcsol\xe1s"})]}),x&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-600 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-orange-900",children:"A karbantart\xe1si m\xf3d akt\xedv!"}),(0,a.jsx)("p",{className:"text-sm text-orange-800 mt-1",children:"A l\xe1togat\xf3k jelenleg a karbantart\xe1si oldalt l\xe1tj\xe1k."})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"R\xe9szletes be\xe1ll\xedt\xe1sok"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x,onChange:e=>h(e.target.checked),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"ml-3 text-gray-900 font-medium",children:"Karbantart\xe1si m\xf3d akt\xedv"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Egyedi \xfczenet"}),(0,a.jsx)("textarea",{value:g,onChange:e=>u(e.target.value),rows:4,placeholder:"Karbantart\xe1s miatt ideiglenesen nem el\xe9rhető az oldal. Hamarosan visszat\xe9r\xfcnk!",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Ha \xfcresen hagyod, az alap\xe9rtelmezett \xfczenet jelenik meg."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Enged\xe9lyezett IP c\xedmek (soronk\xe9nt egy)"}),(0,a.jsx)("textarea",{value:b,onChange:e=>j(e.target.value),rows:6,placeholder:"127.0.0.1 192.168.1.100 10.0.0.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 font-mono text-sm"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Ezek az IP c\xedmek hozz\xe1f\xe9rhetnek az oldalhoz karbantart\xe1si m\xf3d alatt is."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"V\xe1rhat\xf3 befejez\xe9s (opcion\xe1lis)"}),(0,a.jsx)("input",{type:"datetime-local",value:p,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Ez az időpont megjelenik a karbantart\xe1si oldalon."})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:k,disabled:n,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Ment\xe9s...":"Be\xe1ll\xedt\xe1sok ment\xe9se"})})]}),e&&(0,a.jsxs)("div",{className:"mt-6 bg-gray-100 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Aktu\xe1lis \xe1llapot"}),(0,a.jsxs)("dl",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"\xc1llapot:"}),(0,a.jsx)("dd",{className:"font-medium text-gray-900",children:e.isActive?"Akt\xedv":"Inakt\xedv"})]}),e.startedAt&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Ind\xedtva:"}),(0,a.jsx)("dd",{className:"font-medium text-gray-900",children:new Date(e.startedAt).toLocaleString("hu-HU")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Utols\xf3 m\xf3dos\xedt\xe1s:"}),(0,a.jsx)("dd",{className:"font-medium text-gray-900",children:new Date(e.updatedAt).toLocaleString("hu-HU")})]})]})]})]})})}},6128:(e,s,t)=>{Promise.resolve().then(t.bind(t,5483))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=6128)),_N_E=e.O()}]);