(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7042],{532:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},605:(e,t,a)=>{Promise.resolve().then(a.bind(a,4203))},1190:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:c?24*Number(l)/Number(s):l,className:i("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:c,...o}=a;return(0,r.createElement)(l,{ref:n,iconNode:t,className:i("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return a.displayName=s(e),a}},2108:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},4033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4203:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(5155),s=a(2115),i=a(6191),n=a(5229),l=a(5917),c=a(9476),o=a(2108),d=a(4033),h=a(7828),m=a(532),x=a(1190),u=a(1360);function g(){let[e,t]=(0,s.useState)([]),[a,g]=(0,s.useState)(!0),[p,y]=(0,s.useState)(null),[f,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1),[k,w]=(0,s.useState)(new Set),[N,A]=(0,s.useState)(null),[z,C]=(0,s.useState)({question:"",answer:"",category:"\xc1ltal\xe1nos",isActive:!0});(0,s.useEffect)(()=>{q()},[]);let q=async()=>{try{g(!0);let e=await fetch("/api/admin/faqs?includeInactive=true");if(!e.ok)throw Error("Hiba a FAQ-k bet\xf6lt\xe9sekor");let a=await e.json();t(a.faqs)}catch(e){y(e instanceof Error?e.message:"Ismeretlen hiba")}finally{g(!1)}},E=()=>{j(!1),v(null),C({question:"",answer:"",category:"\xc1ltal\xe1nos",isActive:!0})},M=async()=>{try{var t;if(!z.question.trim()||!z.answer.trim())return void alert("K\xe9rd\xe9s \xe9s v\xe1lasz megad\xe1sa k\xf6telezÅ‘!");let a=await fetch(f?"/api/admin/faqs/".concat(f):"/api/admin/faqs",{method:f?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,sortOrder:f?(null==(t=e.find(e=>e.id===f))?void 0:t.sortOrder)||0:Math.max(0,...e.map(e=>e.sortOrder))+1})});if(!a.ok){let e=await a.json();throw Error(e.error||"Hiba t\xf6rt\xe9nt")}await q(),E()}catch(e){alert(e instanceof Error?e.message:"Hiba t\xf6rt\xe9nt a ment\xe9skor")}},S=async e=>{if(confirm("Biztosan t\xf6rli ezt a FAQ-t?"))try{if(!(await fetch("/api/admin/faqs/".concat(e),{method:"DELETE"})).ok)throw Error("Hiba a t\xf6rl\xe9skor");await q()}catch(e){alert(e instanceof Error?e.message:"Hiba t\xf6rt\xe9nt a t\xf6rl\xe9skor")}},O=async e=>{try{if(!(await fetch("/api/admin/faqs/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e.question,answer:e.answer,category:e.category,sortOrder:e.sortOrder,isActive:!e.isActive})})).ok)throw Error("Hiba t\xf6rt\xe9nt");await q()}catch(e){alert(e instanceof Error?e.message:"Hiba t\xf6rt\xe9nt")}},H=async()=>{if(null===N)return;let t=e.map((e,t)=>({id:e.id,sortOrder:t}));try{await Promise.all(t.map(t=>{let{id:a,sortOrder:r}=t;return fetch("/api/admin/faqs/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e.find(e=>e.id===a),sortOrder:r})})})),await q()}catch(e){alert("Hiba t\xf6rt\xe9nt a sorrend ment\xe9sekor"),await q()}finally{A(null)}},T=Array.from(new Set(e.map(e=>e.category||"\xc1ltal\xe1nos"))).sort();return a?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):p?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:p}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["\xd6sszesen ",e.length," k\xe9rd\xe9s (",e.filter(e=>e.isActive).length," akt\xedv)"]})}),(0,r.jsxs)("button",{onClick:()=>{v(null),C({question:"",answer:"",category:"\xc1ltal\xe1nos",isActive:!0}),j(!0)},className:"flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition",children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"\xdaj k\xe9rd\xe9s hozz\xe1ad\xe1sa"]})]}),b&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:f?"K\xe9rd\xe9s szerkeszt\xe9se":"\xdaj k\xe9rd\xe9s hozz\xe1ad\xe1sa"}),(0,r.jsx)("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(n.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kateg\xf3ria"}),(0,r.jsx)("input",{type:"text",value:z.category,onChange:e=>C({...z,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"pl. \xc1ltal\xe1nos, K\xe9pz\xe9sek, \xc1rak",list:"categories"}),(0,r.jsx)("datalist",{id:"categories",children:T.map(e=>(0,r.jsx)("option",{value:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["K\xe9rd\xe9s ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:z.question,onChange:e=>C({...z,question:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Mi a k\xe9rd\xe9s?",maxLength:500}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[z.question.length,"/500 karakter"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["V\xe1lasz ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{value:z.answer,onChange:e=>C({...z,answer:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"A v\xe1lasz...",rows:6})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",checked:z.isActive,onChange:e=>C({...z,isActive:e.target.checked}),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-500"}),(0,r.jsx)("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Akt\xedv (megjelenik a publikus oldalon)"})]})]}),(0,r.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t",children:[(0,r.jsx)("button",{onClick:E,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",children:"M\xe9gse"}),(0,r.jsxs)("button",{onClick:M,className:"flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition",children:[(0,r.jsx)(l.A,{className:"w-4 h-4"}),"Ment\xe9s"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow",children:0===e.length?(0,r.jsx)("div",{className:"text-center py-12 text-gray-500",children:"M\xe9g nincsenek FAQ-k. Kattintson a fenti gombra \xfaj hozz\xe1ad\xe1s\xe1hoz."}):(0,r.jsx)("div",{className:"divide-y",children:e.map(a=>{let s=k.has(a.id);return(0,r.jsx)("div",{draggable:!0,onDragStart:()=>{A(a.id)},onDragOver:r=>((a,r)=>{if(a.preventDefault(),null===N||N===r)return;let s=e.findIndex(e=>e.id===N),i=e.findIndex(e=>e.id===r);if(-1===s||-1===i)return;let n=[...e],[l]=n.splice(s,1);n.splice(i,0,l),t(n)})(r,a.id),onDragEnd:H,className:"p-4 ".concat(N===a.id?"opacity-50":""," ").concat(a.isActive?"":"bg-gray-50"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 cursor-move mt-1",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-1 bg-orange-100 text-orange-700 rounded",children:a.category||"\xc1ltal\xe1nos"}),!a.isActive&&(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-1 bg-gray-200 text-gray-600 rounded",children:"Inakt\xedv"})]}),(0,r.jsx)("button",{onClick:()=>{var e;return e=a.id,void w(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},className:"text-left w-full group",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-orange-600 transition flex-1",children:a.question}),s?(0,r.jsx)(o.A,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}):(0,r.jsx)(d.A,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"})]})}),s&&(0,r.jsx)("div",{className:"mt-2 text-sm text-gray-600 whitespace-pre-wrap",children:a.answer})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>O(a),className:"p-2 rounded-lg transition ".concat(a.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"),title:a.isActive?"Inakt\xedvv\xe1 t\xe9tel":"Aktiv\xe1l\xe1s",children:a.isActive?(0,r.jsx)(h.A,{className:"w-4 h-4"}):(0,r.jsx)(m.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>{v(a.id),C({question:a.question,answer:a.answer,category:a.category||"\xc1ltal\xe1nos",isActive:a.isActive}),j(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Szerkeszt\xe9s",children:(0,r.jsx)(x.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>S(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"T\xf6rl\xe9s",children:(0,r.jsx)(u.A,{className:"w-4 h-4"})})]})]})})]})},a.id)})})})]})}},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5917:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7828:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9476:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=605)),_N_E=e.O()}]);